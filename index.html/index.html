<!DOCTYPE html>
<html>
<head>
  <style>
    #myCanvas{
      border: 1px solid black;          
    }
  </style>
  <script>
    var canvas, ctx;
    var rectangleX = 0;
    var colors = ['red', 'blue', 'gree', 'yellow', 'orange'];
    var currentColor = 0;
    var speed = 1;
    function init(){
    // This funtions is called after the page is loaded 
    // 1 - Get the canvas
    canvas = document.getElementById('myCanvas');
    // 2 - Get the contex
    ctx = canvas.getContext('2d');
    // 3 - we can draw
     requestAnimationFrame(animate); 
      setInterval(changeColor, 1000);
    }
    function animate() {    
    // 1 clear canvas
     ctx.clearRect(0,0, canvas.width, canvas.height);
     // 2 - draw a red rectangle 
     //
     ctx.fillRect(rectangleX,0,80,100); 
      rectangleX = rectangleX + speed;
      if((rectangleX+80 > 200) || (rectangleX <= 0)){
        speed = -speed;
      }
      
      // call agian the animate function after 100ms
      requestAnimationFrame(animate);     
  }
    function changeColor(){
      ctx.fillStyle = colors[currentColor%5];
      currentColor += 1;
      
    }
  </script>
</head>
<body onload="init();">
  <canvas id="myCanvas" width="200" height="200">
    Your browser does not support the canvas tag.
  </canvas>

</body>
</html>